### 네이버_부스트코스_2

## 테이블 레이아웃, 스크롤뷰 사용하기

1. 테이블 레이아웃 (TableLayout)

	- 격자 모양으로 뷰를 배치할 때 사용

    - 테이블 레이아웃에 아래의 코드 작성 -> 내용물을 각각 하나의 칼럼으로 보고 여유 공간이 없도록 줄을 칼럼들로 채운다. 

```Java
android:stretchColumns="0,1,2" // 한 줄에 3개의 칼럼(칸)이 들어가도록 설정

android:layout_span="2" // 해당 위젯의 너비를 칼럼 2개짜리로 만듦

android:layout_column="1" // 인덱스값 0,1,2 중 1(가운데)에 해당하는 위치
android:layout_column="2" // 인덱스값 0,1,2 중 2(마지막)에 해당하는 위치
```

1. 특징

	- 각각의 행은 <TableRow>태그를 이용해 추가

	- 그 안에 몇 개의 뷰를 추가하는가에 따라 열의 개수가 결정

	- 여러 개의 <TableRow>가 추가될 수 있고 각각의 <TableRow> 안에는 여러 개의 뷰가 들어갈 수 있는 구조로 되어 있음  

1. 스크롤뷰 (ScrollView)

	- 스크롤 기능을 쉽게 만들 수 있도록 함

	- 이미지뷰나 텍스트뷰들의 뷰를 스크롤뷰로 감싸주면 스크롤뷰가 뷰의 영역을 계산하고 화면에 보이는 공간을 넘어갔을 때 자동으로 스크롤을 만들어 줌

## 이벤트 처리하기

<img src = "https://github.com/OneLine-IF/TestLab/issues/2#issuecomment-664406248">

1. 대표적인 이벤트

	- 터치 이벤트 : 화면을 손가락으로 누를 때 발생하는 이벤트

	- 키 이벤트 : 키패드나 하드웨어 버튼을 누를 때 발생하는 이벤트

	- 제스처 이벤트 : 터치 이벤트 중에서 일정 패턴을 만들어 내는 이벤트

	- 포커스 : 뷰마다 순서대로 주어지는 포커스 (자주 쓰이지 x)

	- 화면 방향 변경 : 화면의 방향이 가로/세로로 바뀜에 따라 발생하는 이벤트

<img src = "https://github.com/OneLine-IF/TestLab/issues/2#issuecomment-664407119">

1. MainActivity.java
```Java
package com.example.event;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.view.GestureDetector;
import android.view.KeyEvent;
import android.view.MotionEvent;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {
    TextView textView;

    GestureDetector detector;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        textView = (TextView) findViewById(R.id.textView);

        View view = findViewById(R.id.view);
        view.setOnTouchListener(new View.OnTouchListener() {
            @Override
            public boolean onTouch(View v, MotionEvent event) {
                int action = event.getAction();

                float curX = event.getX();
                float curY = event.getY();

                if(action == MotionEvent.ACTION_DOWN){
                    println("손가락 눌렸음 : " + curX + ", " + curY);
                } else if(action == MotionEvent.ACTION_MOVE){
                    println("손가락 움직임 : " + curX + ", " + curY);
                } else if(action == MotionEvent.ACTION_UP){
                    println("손가락 떼졌음 : " + curX + ", " + curY);
                }

                return true;
            }
        });

        detector = new GestureDetector(this, new GestureDetector.OnGestureListener() {
            @Override
            public boolean onDown(MotionEvent motionEvent) {
                println("onDown() 호출됨.");
                return true;
            }

            @Override
            public void onShowPress(MotionEvent motionEvent) {
                println("onShowPress() 호출됨.");
            }

            @Override
            public boolean onSingleTapUp(MotionEvent motionEvent) {
                println("onSingleTapUp() 호출됨.");
                return true;
            }

            @Override
            public boolean onScroll(MotionEvent motionEvent, MotionEvent motionEvent1, float distanceX, float distanceY) {
                println("onScroll() 호출됨 : " + distanceX + ", " + distanceY);
                return true;
            }

            @Override
            public void onLongPress(MotionEvent motionEvent) {
                println("onLongPress() 호출됨.");
            }

            @Override
            public boolean onFling(MotionEvent motionEvent, MotionEvent motionEvent1, float velocityX, float velocityY) {
                println("onFling() 호출됨 : " + velocityX + ", " + velocityY);
                return true;
            }
        });

        View view2 = findViewById(R.id.view2);
        view2.setOnTouchListener(new View.OnTouchListener() {
            @Override
            public boolean onTouch(View v, MotionEvent event) {
                detector.onTouchEvent(event);
                return true;
            }
        });
    }

    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if(keyCode == KeyEvent.KEYCODE_BACK){
            Toast.makeText(this, "시스템 BACK 버튼 눌림.", Toast.LENGTH_LONG).show();
            return true;
        }

        return false;
    }

    public void println(String data) {
        textView.append(data + "\n");
    }

}
```

1. 키 입력 이벤트 처리하기 

<img src = "https://github.com/OneLine-IF/TestLab/issues/2#issuecomment-664409084">

1. activity_main.xml
```Java
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <View
        android:id="@+id/view"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:background="#03A9F4" />

    <View
        android:id="@+id/view2"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:background="#FFC107" />

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1">

        <TextView
            android:id="@+id/textView"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:textColor="#000000"
            android:textSize="16dp" />
        
    </ScrollView>

    <EditText
        android:id="@+id/editTextTextPersonName2"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:background="@drawable/my_selector"
        android:ems="10"
        android:inputType="textPersonName"
        android:text="Name" />

</LinearLayout>
```

1. my_selector.xml

```Java
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item
        android:state_focused="true" // 넣고 안넣고 무슨 차이?
        android:state_pressed="true"
        android:drawable="@drawable/red"/>

    <item
        android:drawable="@drawable/blue"/>
</selector>
```

- 클릭 이벤트는 터치 이벤트를 단순화한 것인데요, 터치 이벤트는 손가락으로 터치했을 때 생기는 각각의 상태를 다룰 수 있도록 해 줍니다.

- 손가락을 누른 상태, 손가락을 누르고 움직이는 상태, 손가락을 뗀 상태를 각각 이벤트로 전달합니다.

1. 터치 이벤트 처리하기

	- 뷰 객체에 OnTouchListener를 설정하고 싶다면 setOnTouchListener 메소드를 사용합니다.
	
	- OnTouchListener 안에는 onTouch 메소드를 정의할 수 있는데 뷰가 터치되었을 때 이 메소드가 자동으로 호출됩니다.

	- MotionEvent 객체에는 터치된 곳의 좌표와 함께 터치된 상태가 전달됩니다.

1. 키 이벤트 처리하기

	- 키패드의 키가 눌렸을 때는 키 이벤트가 발생합니다.

	- 사용자가 누를 수 있는 키로는 a, b, c와 같은 알파벳이나 1, 2, 3과 같은 숫자가 있을 수 있지만 그 외에도 시스템 BACK 키나 시스템 HOME 키도 있을 수 있습니다.

	- 화면 하단에 항상 보이는 키인데 이 키를 눌렀을 때도 이벤트를 받을 수 있는 거죠. 그 중에서도 시스템 BACK 키는 자주 사용됩니다.

	- 이 경우에는 간단하게 onBackPressed 메소드를 재정의하면 됩니다.

	- 아니면 키 이벤트를 직접 처리할 수도 있습니다.
	
	- 키 이벤트를 처리하고 싶다면 onKeyDown 메소드를 재정의하고 파라미터로 전달된 KeyEvent 객체를 참조합니다.

## 토스트와 대화상자

1. 토스트 보여주기

    - 토스트 : 간단한 메시지를 잠깐 보여주었다가 없어지는 뷰로 애플리케이션 위에 떠 있는 뷰라 할 수 있음

```Java
Toast.makeText(Context context, Stirng message, int duration)


public void setGravity(int gravity, int xOffset, int yOffset)
public void setMargin(float horizontalMargin, float verticalMargin)
```

- 토스트는 간단한 메시지를 잠깐 보여주었다가 없어지는 뷰인데, 앱 화면에 종속되지 않습니다.   

- 토스트 메시지를 보여주고 싶다면 다음과 같은 코드 형태를 사용합니다.

```Java
Toast.makeText(Context context, String message, int duration).show();
```

- 스낵바를 사용할 때의 코드 형태는 토스트를 사용할 때와 유사함
- 다만 Snackbar의 make 메소드를 호출할 때 첫 번째 파라미터로 뷰 객체를 넣어주어야 한다는 점이 다름

```Java
Snackbar.make(v, "스낵바입니다.", Snackbar.LENGTH_LONG).show();
```

1. MainActivity.java
```Java
package com.example.toast;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

import com.google.android.material.snackbar.Snackbar;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Button button = (Button) findViewById(R.id.button); // 버튼 객체를 찾아서 변수에 할당
        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Toast toast = Toast.makeText(getApplicationContext(), "위치가 바뀐 토스트",Toast.LENGTH_LONG);
                toast.setGravity(Gravity.TOP|Gravity.LEFT,200,200);
                toast.show();
            }
        });

        Button button2 = (Button) findViewById(R.id.button2); // 버튼 객체를 찾아서 변수에 할당
        button2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                LayoutInflater inflater = getLayoutInflater();
                View layout = inflater.inflate(R.layout.toastborder, (ViewGroup)findViewById(R.id.toast_layout_root));
                // 메모리의 객체화, 뷰 객체가 리턴된다.

                TextView text = (TextView) layout.findViewById(R.id.text);
                text.setText("모양을 바꾼 토스트");

                Toast toast = new Toast(getApplicationContext());
                toast.setGravity(Gravity.CENTER,0,-100);
                toast.setDuration(Toast.LENGTH_LONG);
                toast.setView(layout); // 토스트 객체에 XML 레이아웃을 설정

                toast.show();
            }
        });

        Button button3 = (Button) findViewById(R.id.button3); // 버튼 객체를 찾아서 변수에 할당
        button3.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Snackbar.make(view, "스낵바입니다.", Snackbar.LENGTH_LONG).show();
            }
        });
    }
}
```

1. toastborder.xml -> layout 폴더에 들어있음
```Java
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/toast_layout_root">

    <TextView
        android:id="@+id/text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="20dp"
        android:textSize="40dp"
        android:background="@drawable/toast"
        />

</LinearLayout>
```

1. toast.xml -> drawable 폴더에 들어있음
```Java
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <stroke
        android:width="4dp"
        android:color="#ffffff00"/>

    <solid
        android:color="#ff883300"/>
    <padding
        android:left="20dp"
        android:top="20dp"
        android:right="20dp"
        android:bottom="20dp"/>
    <corners
        android:radius="15dp"/>

</shape>
```
