### 계산기_3번째_수정본

```Java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.text.DecimalFormat;

public class calcTest {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		DecimalFormat form = new DecimalFormat("#.##");// 소수점 출력 양식을 위한 클래스 참조변수 정의

		double postValue = 0;// 계산을 이어서 하는 경우, 이전 결과값을 저장해주기 위한 변수
		while(true) {// 무한 반복
			try {
				InputStreamReader ir = new InputStreamReader(System.in);
				BufferedReader br = new BufferedReader(ir);
				
				String str = br.readLine();// 계산식을 입력받음
				System.out.println(form.format(calc1(str,postValue)));// 소수점 둘째자리까지만 결과 출력
				postValue = calc1(str,postValue);// 결과값을 저장
				
			} catch (Exception e) {}// 예외 처리
			System.out.println();// 줄바꿈
		}
	}

	public static double calc1(String str,double postValue) {
		Function fcn = new Function(); 
		
		int idx = 0;
		int A = 0;// 문자열에서 연산자를 담고 있는 자리의 인덱스 저장하기 위한 변수
		for(int i = 0; i < str.length(); i++) {
			char op = str.charAt(i);
			if(op == '+' || op == '-' || op == '*' || op == '/' || op == '&') {
				idx = i;
			}
		}
		if(idx != 0) {// 새로운 계산을 하는 경우
			A = Integer.parseInt(str.substring(0, idx));
		}
		else {// 계산을 이어서 하는 경우
			A = Integer.parseInt(String.valueOf(Math.round(postValue)));// d를 Math.round로 반올림 시킨다. -> 반올림된 d를 string값으로 변환시킨다. -> 정수 변환
		}
		int B = Integer.parseInt(str.substring(idx + 1, str.length() - 1));
		String oprend = String.valueOf(str.charAt(idx));
		return fcn.calculate(A, oprend, B);
	}
}

class Function implements FunctionInterface{
	
	@Override
	public double add(int a, int b) {
		// TODO Auto-generated method stub
		double A = a;
		double B = b;
		return A+B;
	}
	
	@Override
	public double add(double a, int b) {
		// TODO Auto-generated method stub
		return a+b;
	}

	@Override
	public double add(int a, double b) {
		// TODO Auto-generated method stub
		return a+b;
	}

	@Override
	public double add(double a, double b) {
		// TODO Auto-generated method stub
		return a+b;
	}

	@Override
	public double subtract(int a, int b) {
		// TODO Auto-generated method stub
		double A = a;
		double B = b;
		return A-B;
	}

	@Override
	public double subtract(double a, int b) {
		// TODO Auto-generated method stub
		return a-b;
	}

	@Override
	public double subtract(int a, double b) {
		// TODO Auto-generated method stub
		return a-b;
	}

	@Override
	public double subtract(double a, double b) {
		// TODO Auto-generated method stub
		return a-b;
	}

	@Override
	public double divide(int a, int b) {
		// TODO Auto-generated method stub
		double A = a;
		double B = b;
		return A/B;
	}

	@Override
	public double divide(double a, int b) {
		// TODO Auto-generated method stub
		return a/b;
	}

	@Override
	public double divide(int a, double b) {
		// TODO Auto-generated method stub
		return a/b;
	}

	@Override
	public double divide(double a, double b) {
		// TODO Auto-generated method stub
		return a/b;
	}

	@Override
	public double multiple(int a, int b) {
		// TODO Auto-generated method stub
		double A = a;
		double B = b;
		return A*B;
	}

	@Override
	public double multiple(double a, int b) {
		// TODO Auto-generated method stub
		return a*b;
	}

	@Override
	public double multiple(int a, double b) {
		// TODO Auto-generated method stub
		return a*b;
	}

	@Override
	public double multiple(double a, double b) {
		// TODO Auto-generated method stub
		return a*b;
	}

	@Override
	public int countOfBInA(int a, int b) {
		// TODO Auto-generated method stub
		String A = String.valueOf(a);
		String strB = String.valueOf(b);
		char B = strB.charAt(0);
		
		return count(A,0,B);
	}
	
	public static int count(String str, int idx, char ch) {
		
		if(idx == str.length()) return 0;
		else {
			if(str.charAt(idx) == ch) {
				return 1 + count(str, idx + 1, ch);
			}
			else {
				return count(str, idx + 1, ch);
			}
		}
	}

	@Override
	public int countOfBInA(double a, int b) {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double calculate(int a, String operand, int b) {
		// TODO Auto-generated method stub
		if(operand.charAt(0) == '+') {
			return add(a, b);
		}
		else if(operand.charAt(0) == '-') {
			return subtract(a, b);
		}
		else if(operand.charAt(0) == '*') {
			return multiple(a, b);
		}
		else if(operand.charAt(0) == '/'){
			return divide(a, b);
		}
		else {
			return countOfBInA(a, b);
		}
	}
}
```