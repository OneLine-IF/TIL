## 인텐트 살펴보기
### 인텐트
- 인텐트와 데이터 전달
<img src="https://user-images.githubusercontent.com/32586985/89257110-8385a600-d660-11ea-844c-3711b3c6f3f3.PNG">

- 인텐트는 결국 안드로이드 시스템 안에서 상당히 많이 왔다 갔다 하는 형식의 데이터며 객체이고 시스템 내에서 왔다갔다 할 때 사용되는 필요한 객체라고 생각 할 수 있음
- 액션과 데이터를 사용하는 대표적인 예
<img src="https://user-images.githubusercontent.com/32586985/89257167-a1530b00-d660-11ea-9ba5-8fb15eb8141f.PNG">

- 위의 형식과 같이 받게 된다면, 시스템을 먼저 받고 어떤 앱을 원하는지 그걸 가능한 앱을 띄워줌
- 특정하게 지정하지 않고 찾아야 되니, 그 기능이 있다고 등록된 앱을 찾음, 이것은 매니페스트에 등록을 할 때 권한이라든가 정보가 같이 등록이 되는데 그런 정보들을 추가적으로 등록된 정보를 이용해서 확인을 함
<img src="https://user-images.githubusercontent.com/32586985/89257208-b465db00-d660-11ea-8d00-15cbc6507117.PNG">

- 명시적으로 액티비티를 지정을 안 했지만 이거를 해줘라 했을 때 시스템이 동작을 함, 이것을 명시 인텐트 암시적 인텐트라고 함
- 암시적 인텐트는 액티비티를 딱 지정한 게 아니라 HTTP 또는 TEL처럼 특정 데이터를 넣어주면 그 데이터를 찾아서 데이터에 맞는 앱을 찾아서 알아서 띄워주는 것임
- 인텐트의 대표적 속성
<img src="https://user-images.githubusercontent.com/32586985/89257263-c9426e80-d660-11ea-84a8-d7751f79268d.PNG">

- 액티비티를 지정하는 방식은 다른 방식으로도 처리를 할 수 있으므로 그 안에 여러가지 정보가 들어감
- 데이터 전달 예제
<img src="https://user-images.githubusercontent.com/32586985/89257295-d8c1b780-d660-11ea-9265-b94c1a949a3b.PNG">
<img src="https://user-images.githubusercontent.com/32586985/89257301-dcedd500-d660-11ea-8f93-e96c066569a7.PNG">

- 위의 방식과는 다르게 Intent 설정을 할 수 있음
<img src="https://user-images.githubusercontent.com/32586985/89257348-f1ca6880-d660-11ea-9759-7cb1d87613ad.PNG">

- MenuActivity.class라고 해서 객체를 지정하는 것이 아니라 문자열로 컴포넌트를, 액티비티를 지정할 수 있음 
- 액티비티나 이런 것들이 만들어지지 않은 상태에서 또는 남들이 만들어 놓은 액티비티가 있을 때 그거를 지정해서 띄워줄 수 있음
- 권한 정보에 대한 설정은 매니페스트 파일에 가서 추가할 수 있음
<img src="https://user-images.githubusercontent.com/32586985/89257391-0149b180-d661-11ea-9aa8-573a99efcceb.PNG">

- SD카드와 읽기 접근 권한을 해주는 것
- 이것이 마시멜로 버전 이후에는 위험 권한으로 분류가 돼있으므로 매니페스트에 등록하는 것뿐만 아니라 앱이 실행됐을 때도 권한을 달라고 대화상자를 띄워주거나 해야함
- 액티비티를 위한 플래그
	- 화면이 없는 서비스라는 것을 액티비티를 실행할 경우 액티비티를 새로 만들어 실행할 수도 있지만 이미 사용자가 보고 있는 액티비티 위에 액티비티를 실행하게 되는 경우가 생길 수도 있음
	- 동일한 액티비티인데 두 개가 만들어지게 되고 가장 위에 있는 것만 보이는 상황이 만들어짐, 이 때 맨 위에 있는 액티비티를 finish 메소드로 없애더라도 사용자에게는 동일한 모양의 화면이 다시 보이게 되는 문제가 발생함
	- 이런 경우 플래그를 사용하여 동일한 액티비티인 경우 이미 화면에 보이는 액티비티를 그대로 사용할 수 있게 해줌
<img src="https://user-images.githubusercontent.com/32586985/89257435-19213580-d661-11ea-8f13-9cb94eb82f45.PNG">

- 새로 실행하려는 액티비티와 화면에 보이는 액티비티가 동일한 액티비티인 경우 메모리에 새로 만들지 않고 화면에 보이는 액티비티를 그대로 보여줌
- 이미 만들어져서 화면에 보이는 액티비티를 그대로 사용할 때는 onCreate 메소드를 호출하진 않음, onCreate 메소드는 액티비티가 메모리에 처음 만들어질 때 자동으로 호출되는데 화면이 이미 만들어져 있으니 호출되지 않음
- 이때 onNewIntent라는 메소드가 호출됨, 이 메소드를 별도로 호출되는 이유는 인텐트를 전달받기 위해서임
- onCreate가 호출되는 경우에는 그 안에서 getIntent 메소드를 이용해 전달받은 인텐트 객체를 확인할 수 있지만 onCreate 메소드가 호출되지 않는 경우에는 onNewIntent 메소드 안에서 객체를 확인할 수 있음
<img src="https://user-images.githubusercontent.com/32586985/89257472-2f2ef600-d661-11ea-863d-e443f99f088e.PNG">

- 생각해보기
- 여러분이 만드는 앱 말고도 다른 앱들도 인텐트를 사용할텐데 얼마나 많은 인텐트가 사용되는 걸까요?
	- 정말 그 쓰임이 단순한 앱이 아니라면 우리가 흔하게 사용하는 앱들 전부 다 각각의 화면과 기능에 맞춰 그에 따라서 인텐트를 모두 사용할 것이다
- 인텐트의 수가 많다면 그 인텐트들 중에서 특정 인텐트를 구분할 수 있을까요?
	- 인텐트를 사용하는데 있어서 어느정도의 구분할 수 있는 코드들이 있기 때문에 구분이 가능하다고 생각됩니다
- 부가데이터의 크기가 커도 괜찮을까요? 시스템으로 전달되는 데이터이니 크기가 제한될 필요가 있을까요?
	- 크기가 크다면 분명히 실행이나 구동과정에서 문제가 생길 수 있기 때문에 크기가 너무 커서는 안된다고 봅니다. 어느정도 구동에 있어서 문제가 되지 않는 선에서 제한이 필요하다고 보입니다

### 부가데이터
- 액티비티 스택
- 순서대로 쌓임
<img src="https://user-images.githubusercontent.com/32586985/89257528-5259a580-d661-11ea-8b69-e1540aab2d0d.PNG">

- 액티비티 스택과 플래그 사용
<img src="https://user-images.githubusercontent.com/32586985/89257553-61d8ee80-d661-11ea-95c1-f22a821477f8.PNG">

- 액티비티 플래그 사용 예
<img src="https://user-images.githubusercontent.com/32586985/89257590-6ef5dd80-d661-11ea-8f38-5733120ac728.PNG">

- 액티비티에서 인텐트를 전달받는 두 가지 경우
<img src="https://user-images.githubusercontent.com/32586985/89257618-7d43f980-d661-11ea-97e7-299bbb152cd1.PNG">

- 다른 액티비티 플래그의 사용
<img src="https://user-images.githubusercontent.com/32586985/89257639-88972500-d661-11ea-9df9-dc9f71c401b6.PNG">

- CLEAR_TOP을 하게 될 경우 그 위에 있던 중복되는 액티비티를 싹 없애주는 역할을 함
- NO_HISTORY의 경우, 쌓이는 과정이 위의 그림과 같이 바뀜
- CLEAR_TOP과 SINGLE_TOP의 경우 실무에도 자주 쓰이고 두 개를 같이 사용하게 되는 경우도 있음
- 부가 데이터 전달하기
<img src="https://user-images.githubusercontent.com/32586985/89257676-9ba9f500-d661-11ea-8473-e2b870b6152c.PNG">
<img src="https://user-images.githubusercontent.com/32586985/89257682-9ea4e580-d661-11ea-81b0-492298d4eebf.PNG">

- 이름값, 키값을 넣고 값, 실제 밸류값을 넣음, 밸류 값의 자료형이 String, int, boolean등 primitive 타입임, 가장 기본적인 타입임
- put으로 넣고 get으로 뺄 수 있음 

- 만일 클래스를 정의해서 객체로 만들어 볼 수 있음, 여기서 해당 객체 안에 속성과 변수의 상관없이 객체 안에 들어있는 데이터를 그대로 전달할 수도 있음
<img src="https://user-images.githubusercontent.com/32586985/89257731-b67c6980-d661-11ea-8f10-16eefdadb81e.PNG">

- 이것을 Serializable을 할 수 있음, 어떤 객체 안에 있는 데이터를 파일에 저장하거나 또는 네트워크로 다른 데에 보내고 싶을 때 그 안에 있는 데이터만 뽑아내는 방법임, Serializable을 통해서 전달 할 수 있음
- 하지만 그렇게 하다보면 어떤 객체의 타입이나 그런 정보까지 같이 전달해야해서 용량이 커지는 문제가 생김
- 그래서 이것을 안드로이드에서는 Parcelable이라고 하는 것을 만들어서 전달하는 것을 권장함
- Parcelable은 객체 안에 변수에 데이터가 들어가 있는데 여기서 객체 안에 들어있는 변수들을 별도로 뽑아서 변수들이 가지고 있는 데이터만을 전달할 수 있도록 구성을 함
- Serializable 또는 Parcelable로 객체 자체를 전달할 수 있고 인텐트 안에 Extra 데이터를 넣어서 다른 액티비티나 다른 애플리케이션 구성요소를 전달 할 수 있다
<img src="https://user-images.githubusercontent.com/32586985/89257766-cbf19380-d661-11ea-98fb-400518167cf7.PNG">
<img src="https://user-images.githubusercontent.com/32586985/89257775-d0b64780-d661-11ea-95a1-73f8428b5891.PNG">

- 위의 방법은 리스트 뷰 안에다가 데이터로 ArrayList를 집어넣는 경우 그거를 필요할 때 데이터를 바로바로 액티비티 화면과 화면 사이에 또는 화면이 없는 서비스에서 화면을 띄울 때 그럴 때 ArrayList를 바로 전달해서 보여줄 수 있는 장점이 있음
- 위의것을 쓰긴 하지만 Parcelable을 권장하긴 함
<img src="https://user-images.githubusercontent.com/32586985/89257833-e4fa4480-d661-11ea-8c2c-09eba295008f.PNG">

- SimpleData라고 하는 클래스를 정의하고 SimpleData를 이용해서 새로운 객체를 만들어서 그 객체가 Parcelabel이라고 하는 인터페이스를 구현하고 있음
<img src="https://user-images.githubusercontent.com/32586985/89257853-f2afca00-d661-11ea-9121-771f430d2091.PNG">
<img src="https://user-images.githubusercontent.com/32586985/89257876-fd6a5f00-d661-11ea-8f17-6dd60930b4a2.PNG">
<img src="https://user-images.githubusercontent.com/32586985/89257899-05c29a00-d662-11ea-806a-0236f8eefcd3.PNG">

- Main과 Menu 액티비티에서 위와 같이 코드를 추가해서 사용할 수 있음
- 여러 개의 데이터를 read, write를 하게 된다면 이런 식으로 데이터를 전달할 수가 있게됨 
- 예시, 액티비티 A에서 액티비티 B를 실행하고 다시 액티비티 A로 돌아오는 과정
1. 액티비티 A에서는 인텐트 객체를 만들고 put … 메소드를 이용해 부가데이터를 넣어줍니다.
2. 그리고 startActivityForResult 메소드를 호출합니다.
3. 액티비티 B가 실행된 후 setResult 메소드를 호출하면서 인텐트를 전달하고 finish 메소드를 호출하면 액티비티 A로 돌아옵니다.
4. 액티비티 B에서도 인텐트 안에 부가데이터를 넣어 전달할 수 있는데 이 인텐트는 액티비티 A의 onActivityResult 메소드가 호출되면서 전달받을 수 있습니다.
- Serializable과 Parcelable
	- ArrayList와 같은 객체들은 이미 Serializable 인터페이스를 구현하고 있으므로 그대로 부가데이터로 추가할 수 있으며, 그 외에 Person과 같이 직접 정의하는 객체들은 Parcelable 인터페이스를 구현한 후 부가데이터로 추가하는 것을 권장함
<img src="https://user-images.githubusercontent.com/32586985/89257907-0e1ad500-d662-11ea-860d-61c46b9ddbf9.PNG">

- 생각해보기
- ArrayList안에 사람 이름을 여러 개 넣은 후 다른 액티비티로 전달하려면 어떻게 해야 할까요?
	- Serializable을 사용하여서 다른 액티비티로 전달할 때 사용할 수 있다 ArrayList 같은 경우 Serializable 인터페이스를 구현하니 더 유용하다
- 사진 이미지와 같이 용량이 큰 파일도 인텐트 안에 부가데이터로 넣을 수 있을까요? 만약에 안된다면 다른 액티비티로 이 사진을 전달할 방법이 있을까요?
	- 사진 이미지 자체를 그 자체의 Id값으로 불러와서 부가데이터로 넣을 수 있을까 생각이 든다 하지만 안된다면 서버쪽을 통해서 불러오는 방식이 있지 않을까 생각이 든다
