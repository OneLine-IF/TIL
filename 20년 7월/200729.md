## 인플레이션 이해하기
### 인플레이션 이해하기
- 여러 화면들이 있는 제대로 된 앱을 만들고 싶어요
	- XML로 만든 레이아웃이 어떻게 화면에 보여진느 것일까요?
	- 여러 화면들을 만들고 나면 어떻게 화면을 전환시킬까요?
	- 화면이 바뀔 때 데이터는 어떻게 전달할까요?
	- 화면이 없는 기능은 어떻게 만드는 것이 좋을까요?
	- SMS문자를 수신할 때 앱에서 알 수 있는 방법이 있나요?
	- 위험 권한이라는 것은 어떻게 부여하나요?
<img src="https://user-images.githubusercontent.com/32586985/88742038-11065900-d17c-11ea-863e-1cb29bb02acc.PNG">

- XML 레이아웃 파일과 자바 소스 파일의 매칭, 사용자의 눈에 보이는 것은 xml파일로 동작하는 거는 Java 소스코드로, 두 개의 파일이 쌍으로 이루어짐 그것이 하나의 화면을 구성함 
- setContentView 메소드에서 XML 레이아웃 파일 매칭
<img src="https://user-images.githubusercontent.com/32586985/88742124-4e6ae680-d17c-11ea-96a8-38769e00b937.PNG">

- 인플레이션 : XML 레이아웃에 정의된 내용이 메모리에 객체화되는 과정, 메모리에 버튼을 만들려고 new Button이라는 코드가 만드는데 그 과정은 안드로이드 시스템에서 하고 그 시스템에서 해주는 역할이 레이아웃 인플레이터임
- xml 파일에 있는 버튼을 실제 메모리에 버튼을 만들어주는 과정을 인플레이션 과정이라고 함 
<img src="https://user-images.githubusercontent.com/32586985/88742215-9c7fea00-d17c-11ea-92f3-ddfbdf686ddc.PNG">

- 레이아웃 인플레이션의 이해 - 호출순서, 아래 사진과 같이 코드의 순서만 바꿔도 에러가 뜸
<img src="https://user-images.githubusercontent.com/32586985/88742350-f41e5580-d17c-11ea-862b-b7a31f842227.PNG">

- setContentView() 메소드의 역할
<img src="https://user-images.githubusercontent.com/32586985/88742443-35166a00-d17d-11ea-8bbe-49ea3f30cdf9.PNG">

- setContentView() 메소드의 역할
	- 화면에 나타낼 뷰를 지정하는 역할
	- XML 레이아웃의 내용을 메모리 상에 객체화하는 역할

<img src="https://user-images.githubusercontent.com/32586985/88742489-54ad9280-d17d-11ea-8a25-74c052676355.PNG">

- 전체 화면 중에서 일부분만을 차지하는 화면 구성요소들을 XML 레이아웃에서 로딩하여 보여줄 수 없을경우
	- LayoutInflater 라는 클래스를 제공하며, 이 클래스는 시스템 서비스로 제공됨 

- 아래와 같이 코드를 쓰게 되면 메모리에 Button을 만들어 주기 전에 Button 객체를 찾아서 button은 null 값이 됨, 그 null에다가 setOnClickListener를 하게 되니 에러가 발생을 함
- setContentView는 메모리의 객체와는 레이아웃 인플레이션이라고 하는 역할을 함
- setContentView(R.layout.activity_mmain) -> xml 레이아웃 파일 전체를 메모리에 객체화하는데 사용함 
<img src="https://user-images.githubusercontent.com/32586985/88743039-aa366f00-d17e-11ea-91c4-084041fd43b4.PNG">

- 부분화면, 어떤 화면의 한 부분을 레이아웃으로 만들면?, 부분화면은 레이아웃을 만들었을 때 레이아웃이라고 하는 것 안에 들어갈 수 있는 뷰를 말함
- 레이아웃으로 구성된 뷰라고 한다면 그거 안에는 다시 또 화면을 구성할 수 있음 그것을 부분화면이라고 함
- 이 상황에서는 setContentView라는 메소드를 사용할 수 없기 때문에, 지접 인플레이션을 해야함 
- LayoutInflater라고 하는 시스템 서비스가 제공됨, 시스템 서비스라고 하는 거는 안드로이드 단말기가 실행 됐을 때 뒤단에서 미리 실행이 된 것, 화면이 없는 걸 서비스라고 함 
- 그 서비스 중에서 시스템이 미리 실행시켜 놓은 화면 없는 그런 실행 프로세스르를 서비스라고 함 
- 그런 내용의 서비스를 이용해서 LayoutInflater라는 걸 이용해서 부분 화면인 경우에는 직접 메모리에 객체화를 해야함, 인플레이션 과정을 걸쳐야함 
- 부분화면 역시도 xml 파일 하나와 java 파일 하나로 구성할 수 있음

- 아래의 방식은 레이아웃을 그대로 메모리에 인플레이션, 메모리 객체화를 한 다음에 메인에 프레임에 프레임 레이아웃에 갖다 놓는 방식임
- FrameLayout이라고 하고 ID가 container인 공간을 확보해서 sub1.xml이라고 하는 파일 안에 들어가 있는 내용을 LayoutInflater라고 하는 메모리에 올린 뒤 container라고 갖다 붙여준 것임
- 그 안에 들어가있는 버튼, 부분화면이던 텍스트뷰 던, 입력 상자든 뭐든 부분화면을 위해서 만들었던 그 안에 넣었던 태그나 만들어떤 위젯들 등을 ID를 이용해서 findViewById로 찾을 수 있음, 그리고 사용할 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88744063-495c6600-d181-11ea-8b7b-8b7914ff0994.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88744482-73faee80-d182-11ea-8f3b-f6d474d4c213.PNG">

- 생각해보기
- XML 레이아웃에 LinearLayout 태그를 넣었을 때 이 객체에 새로 만든 XML 레이아웃을 적용하려면 어떻게 해야 할까요?
	- 그 레이아웃 안에 id를 지정한 것을 만들어서 인플레이션을 활용하여서 새로 만든 XML 레이아웃을 적용할 수 있을 것이다
- LinearLayout을 상속해서 새로운 클래스를 정의하고 이 클래스에서 새로운 객체를 만들었다면 이 객체에 새로 만든 XML 레이아웃을 어떻게 적용할 수 있을까요?
	- LayoutInflater등을 활용해서 클래스에서 새로운 객체를 만들것에 인플레이션을 활용해서 XML 레이아웃을 적용할 수 있다.

## 리스트뷰 만들기
### 리스트뷰 만들기
- 리스트뷰는 앱의 UI를 만들 때 가장 많이 사용하는 위젯 중 하나
- 왜 굳이 선택위젯이라는 이름으로 구분할까?
	- 안드로이드에서는 여러 아이템 중의 하나를 선택하는 선택위젯은 별도의 패턴을 사용함
	- 여러 개의 아이템 중에서 하나를 선택하는 방식의 선택 위젯은 어댑터를 사용하여야함
	- 이 어댑터에서 데이터를 관리하도록 해야 할 뿐만 아니라 화면에 보여지는 뷰도 어댑터의 getView()메소드에서 결정함
	- 선택위젯의 가장 큰 특징은 원본 데이터를 위젯에 직접 설정하지 않고 어댑터라는 클래스를 사용하도록 되어 있다는 점으로 이 패턴을 잘 기억해두어야함
- 아이템은 글자 하나만 들어갈 수도 있고 이미지가 들어갈 수도 있고 글자가 여러개 들어갈 수도 있음, 그 각각을 아이템이라고 함
- 여러 개의 아이템이 관리가 되면서 그 중에 하나를 사용자가 선택하기 때문에 선택위젯이라고 부름
- 데이터라고 하는게 분리돼 있는데 그 데이터를 관리하는게 어댑터라고 하는 것임
- 어댑터가 데이터를 관리하기 때문에 리스트 뷰는 껍데기 역할만 하는 것임, 어댑터에서 각각의 아이템으로 보여줄 뷰까지 아예 생성을 함
- 리스트 뷰에 어댑터를 설정하면 리스트뷰가 화면에 보여지는 시점에 어댑터에게 아이템이 몇 개있나 물어보고, 이 아이템을 위해서 뷰도 만들어주게끔 어댑터에 요청을 함 
- getView() 메소드 호출, 몇 번째 뷰를 보여달라고 하는 건지 몇 번째 아이템을 보여달라고 하는건지 정보를 전달받아 거기에 해당하는 뷰를 리턴해주고 그대로 화면에 보임 
- 어댑터는 아이템을 위한 데이터도 관리하고 아이템을 위한 뷰도 생성해줌
<img src="https://user-images.githubusercontent.com/32586985/88749268-e1604c80-d18d-11ea-92cc-dabb252f377c.PNG">

- 대표적인 선택 위젯
	- 안드로이드에서 제공하는 대표적인 선택 위젯들은 그 사용방법을 잘 알아두어야함
<img src="https://user-images.githubusercontent.com/32586985/88749815-10c38900-d18f-11ea-9305-275d6bdba406.PNG">

- 리스트뷰로 보여줄 때 해야 할 일들
- 아이템을 위한 XML 레이아웃 정의하기
	- 리스트뷰에 들어갈 각 아이템의 레이아웃을 XML로 정의함
- 아이템을 위한 뷰 정의하기
	- 리스트뷰에 들어갈 각 아이템을 하나의 뷰로 정의, 이 뷰는 여러 개의 뷰를 담고 있는 뷰그룹이어야 함
	- 이것은 부분화면과 같아서 (1)번에서 정의한 XML 레이아웃을 인플레이션 후 설정해야함
- 어댑터 정의하기
	- 데이터 관리 역할을 하는 어댑터 클래스를 만들고 그 안에 각 아이템으로 표시할 뷰를 리턴하는 getView() 메소드를 정의함
- 리스트뷰 정의하기
	- 화면에 보여줄 리스트뷰를 만들고 그 안에 데이터가 선택되었을 때 호출될 리스너 객체를 정의함 

- 리스트뷰를 만들고나서 리스트 뷰 안에 들어가는 게 이미지, 텍스트 이런것들이 있다면 그런 것들을 커스터마이징해서 쓰게 됨
- 처음부터 이 리스트 뷰 안에 들어가는 아이템의 모양을 내가 원하는대로 바꿀 수 있는 구조로 만드는게 좋음 
- 각각의 아이템을 위한 별도의 뷰를 부분화면처럼 만들고 이것을 어댑터에 넣어줄 것임, 이를 위해서 어댑터 클래스를 먼저 정의해서 기존의 어댑터를 상속해서 필요한 만큼 코드를 넣을 것임 
- ArrayList를 사용하지만 여러 정보가 담겨 있으므로 별도의 객체로 정의해서 쓸 것임
<img src="https://user-images.githubusercontent.com/32586985/88751388-6cdbdc80-d192-11ea-8596-30122ccffcff.PNG">

- 부분화면 정의를 위한 레이아웃 xml
<img src="https://user-images.githubusercontent.com/32586985/88752159-27b8aa00-d194-11ea-9323-d79139e58f3a.PNG">

- 자바 소스 파일과 매칭을 위해 만든 자바 파일
- 하나의 아이템을 위해서 아이템을 보여주기 위한 뷰를 하나 정의한 것임, 부분화면처럼 정의함, 이를 가지고 2번째 사진에 MainActivity에서 정의하는 어댑터 안에서 getView를 이용해서 뷰 객체로 만들고 리턴하도록 함
<img src="https://user-images.githubusercontent.com/32586985/88752793-bd086e00-d195-11ea-9bbf-db26f8f49b58.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88752900-ef19d000-d195-11ea-978e-411960b13db9.PNG">

- 만든 리스트뷰를 바탕으로 직접 데이터를 추가하고 해당 뷰를 화면에 띄우도록 메소드를 설정하고 실행하면 아래와 같이 나옴 
- 레이아웃이나 이미지나 모양을 직접 넣어서 꾸며 볼 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88756455-a9add080-d19e-11ea-81fe-2561bc6702a2.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88756461-ad415780-d19e-11ea-89af-7d9019980b72.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88756465-b03c4800-d19e-11ea-820b-32f065261496.PNG">

- 이미지까지 왼쪽에 넣어보는 작업을 할 것임
<img src="https://user-images.githubusercontent.com/32586985/88756790-7ddf1a80-d19f-11ea-923a-dfe19d6ab4dd.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88756794-80da0b00-d19f-11ea-859b-da8975ec16b6.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88757131-563c8200-d1a0-11ea-81e6-44f4dd89b6e8.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88757160-65bbcb00-d1a0-11ea-93eb-f2d5b3406b1b.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88757189-6eac9c80-d1a0-11ea-92f9-d9b831829eb6.PNG">

- 리스트 뷰에 어떤 한 아이템을 클릭했을 때 어떤 아이템이 선택이 됐는지 정보를 보여줌
<img src="https://user-images.githubusercontent.com/32586985/88761129-758bdd00-d1a9-11ea-97e0-57ee56d13a4e.PNG">

- 위에다가 버튼과 입력상자를 만들고 사용자가 입력한 값을 이용해서 SingerItem 객체를 만들고 그거를 어댑터에 추가해서 리스트에 보여주는 방법
<img src="https://user-images.githubusercontent.com/32586985/88761871-fa2b2b00-d1aa-11ea-836b-e4fdbd02795c.PNG">

- 데이터가 많아지면 객체를 매번 만들게 되면 메모리 문제도 생기고 문제가 생길수 있으므로 아래와 같이 처리해서 재사용 할 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88762169-9ead6d00-d1ab-11ea-9116-fb5750713b3b.PNG">

- 생각해보기
- 리스트뷰의 각 아이템으로 보이는 레이아웃에도 프레임레이아웃이나 상대레이아웃을 사용할 수 있을까요?
	- xml 파일로 만들어서 쓰게 된다면 어떤 레이아웃을 써도 상관없이 사용할 수 있음
- 어댑터 안에 정의한 ArrayList 객체 안에 들어가는 원소의 자료형은 어떤 것이든 가능한 걸까요?
	- ArrayList를 어떻게 정의하여 쓰냐에 따라 다르지만 새로 클래스 자바 소스파일을 만들어서 설정한다면 어떤 자료형이어도 상관없음
- 만약 그렇다면 화면에 보이는 아이템의 레이아웃과 함께 수정해야 할까요?
	- 별도로 파일을 만들었다면 레이아웃은 수정할 필요없이 자바 내부코드만을 수정하면 됨 

### 실무에서는 리스트뷰보다는 리사이클러뷰를 많이 사용함 

### 스피너 사용하기
- 보통 콤보박스라고 불리는 위젯임. 어댑터를 사용함
- 예제
<img src="https://user-images.githubusercontent.com/32586985/88762471-39a64700-d1ac-11ea-8401-1daefc81cad6.PNG">

- 아래와 같이 코드를 짜고 구현해서 실행시킬 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88763321-eb924300-d1ad-11ea-9175-fe6413acd244.PNG">

- 스피너도 어댑터를 사용함
- 생각해보기
- 스피너도 리스트뷰를 만들 때처럼 어댑터를 직접 만들어 설정할 수 있을까요?
	- 있음, 다만 위의 예시로는 많이 받을 부분이 없는 예시였기 때문에 간단하게 짜진 것이지 쓸 수 있음
- 스피너의 한 항목에 보이는 뷰가 이미지 하나와 텍스트뷰 하나가 되도록 만들 수도 있을까요?
	- 있음, 하지만 현재 위의 예시는 String 하나만 받게끔 ArrayList를 선언했는데 질문과 같이 하기 위해서는 수정 필요

### 그리드뷰 사용하기
- 리스트뷰와 사용법이 거의 같지만 격자형태로 배치되는 것이 다름
<img src="https://user-images.githubusercontent.com/32586985/88763677-7bd08800-d1ae-11ea-8f4d-de0015f84aa3.PNG">

- 기존의 리스트뷰와 사용방식이 거의 동일함, 단 칼럼수에 따라서 배치가 달라지고 보이는게 달라짐, 즉 numColumns 속성에 정해진 값에 따라서 격자의 개수가 결정되고 나머지는 리스트뷰와 똑같음
- 위에서 한 리스트뷰 실습 파일을 그대로 씀, 내용을 그대로 써서 gridView로 바꿈, 2번째 사진과 같이 보이는 모양만 다름
<img src="https://user-images.githubusercontent.com/32586985/88764225-86d7e800-d1af-11ea-8932-c1c822492d86.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88764472-f9e15e80-d1af-11ea-9187-2a2937384d62.PNG">

- 생각해보기
- 그리드뷰의 각 아이템으로 보이는 레이아웃에도 프레임레이아웃이나 상대레이아웃을 사용할 수 있을까요?
	- 예, 그리드뷰는 리스트뷰와 형태만 다른것이뿐 쓰는 방식이나 기능은 완전히 똑같기 때문에
- 그리드뷰의 numColumns 속성값을 1로 만들어주면 리스트뷰와 동일하게 보일까요?
	- 예, 1로 할 경우 리스트뷰와 이름만 다를뿐 보이는 방식은 동일하게 보입니다.



## 알아둬야 할 점
- 에러가 뜨거나 원하는대로 실행이 되지 않을시, Logcat, Run 했을 때 뜨는 에러를 복사해서 구글링을 통해서 스택오버플로우를 활용해서 무엇이 문제였는지 찾아서 직접 해결해보기
