## 토스트와 대화상자
### 토스트 보여주기
- 토스트 
	- 간단한 메시지를 잠깐 보여주었다가 없어지는 뷰로 애플리케이션 위에 떠 있는 뷰라 할 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88607758-fd46ee00-d0ba-11ea-8be1-2d23230232ea.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88607855-40a15c80-d0bb-11ea-9892-7031a41ca8e8.PNG">

- 토스트 메시지가 보이는 위치를 바꿀 수 있고, 색상이나 모양도 바꿀 수 있음
- setGravity를 써서 위치를 바꿀 수 있음

<img src="https://user-images.githubusercontent.com/32586985/88608668-439d4c80-d0bd-11ea-86ce-c605eca37e66.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88608695-57e14980-d0bd-11ea-9c88-bab7e2300222.PNG">

- 모양을 xml 파일로 만든 다음 그 모양에 따라서 메시지가 보이도록 할 수 있음, xml로 토스트 모양을 정의한고 이 정의한 것을 레이아웃 인플레이션을 통해서 메모리 객체화를 하고 그것을 이용해서 보여줌
- toastborder.xml안에 들어가는 최상위 레이아웃에 id를 줌, 인플레이션을 해 그 안에 들어가 있는 toast_layout_root라고 하는 최상위 쪽에다가 인플레이션해서 최상위 레이아웃을 갖다 넣어주는 것
- 그러면 메모리 객체화가 됨 
<img src="https://user-images.githubusercontent.com/32586985/88609433-0cc83600-d0bf-11ea-9f2a-0778b6b166b8.PNG">

- 텍스트 뷰를 토스트 메시지로 사용할 것임, 레이아웃으로 만든 것에서 텍스트 뷰라고 하는 것을 설정, 인플레이션에서 한 toastborder라고 하는 xml 레이아웃을 그 안에 있는 최상위 레이아웃으로 인플레이션 해서 붙임, 이것을 토스트쪽에 설정을 함 
- 만일 위와 같이 설정을 하면 아래의 코드와 아래와 같이 뜨게 됨 
<img src="https://user-images.githubusercontent.com/32586985/88610270-2d918b00-d0c1-11ea-890e-524120f2a7df.PNG">

- 추가적으로 배경 설정을 해 줄 수 있음, 배경설정을 위해 drawable에 toast.xml 파일을 새로 만듬, 해당 파일을 배경으로 지정을 함, 아래와 같이 toast 메시지를 원하는 형태로 바꿔서 쓸 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88610413-8e20c800-d0c1-11ea-973d-0044c0a73d3d.PNG">

- 토스트 메시지말고 스낵바도 많이 이용함, 큰 차이는 없음, 스낵바는 외부 라이브러리에 있음 
- 해당 라이브러리 추가 File -> Project Structure -> Dependencies -> +버튼 -> Library dependency -> com.android.support:design 추가, 자동으로 외부 라이브러리를 추가 할 수 있음
- 스낵바는 계속 떠있도록 하는 옵션도 있음, 색상과 배경 역시 바꿀 수 있음, 아래쪽에서 잠깐 올라왔다가 사라지는 뷰임, 앱의 화면 안에서 보임
<img src="https://user-images.githubusercontent.com/32586985/88610987-0dfb6200-d0c3-11ea-87fe-833644d24c42.PNG">

- 생각해보기
- 토스트 메시지를 여러 번 띄울때는 얼마만큼의 시간이 지연되어 보일까요?
	- 매 번 새롭게 뜰 때 만큼 지연되어 보이는 것처럼 보일 것 같다
- 알림 대화상자 외에 대화상자를 직접 만들어서 띄울 수도 있을까요?
	- 위의 실습처럼 xml 파일로 만들어서 추가하여 만든다면 직접 만들어서 띄우는 작업도 가능해 보인다
- 대화상자에서 사용자 입력을 받을 수 있도록 대화상자 안에 입력상자를 넣고 싶다면 어떻게 해야할까요?
	- 대화상자에 xml 파일을 위의 실습처럼 적용시킨 것과 같이 이용한다면 할 수 있을 것 같다
- 추가 사항 
	- 위 과정에서 design 라이브러리 추가시 complie,target 버전을 28로 낮춰야 하는데 현 30 상태를 유지하고 com.google.android.material 패키지를 추가하여서 스낵바를 사용할 수 있음

### 알림 대화상자 보여주기
- 알림 대화상자 실행 화면
<img src="https://user-images.githubusercontent.com/32586985/88611652-739c1e00-d0c4-11ea-9584-3877da3bb879.PNG">

- 아래와 같이 코드를 짜서 실행할 수 있음 단, dialog에서 onClick 메소드에서 DialogInterface는 안되므로 textView를 만들어서 뷰 객체를 사용함, 꼭 이 방법이 아니라 최상위 레이아웃을 참조해서 할 수도 있음
- AlertDialog를 builder를 이용해서 설정함, 알림 대화상자가 나오고 예, 아니오 버튼 누를시 아래와 같이 뜨게 됨 
<img src="https://user-images.githubusercontent.com/32586985/88612548-6c760f80-d0c6-11ea-8fa0-23eb671a3aaf.PNG">

- 생각해보기 중복됨

## 비트맵 버튼 만들기
### 나인패치 이미지
- 지정한 이미지가 어떤 크기를 갖고 있든 상관없이 화면 안에다가 어떤 뷰라고 하는 이미지 뷰라고 하는 걸 할당을 하고 거기에 이미지를 갖다가 넣으면 이미지 뷰의 크기에 일정하게 딱 맞춰주는게 기본 디폴트 기능임, 어떤 이미지를 집어넣으면 자동으로 뷰의 크기만큼 늘어나게 됨 
- 나인패치 이미지란?
	- 이미지가 늘어나거나 줄어들 때 생기는 이미지 왜곡을 해결하는 방법을 정의한 것
	- 서로 다른 해상도를 가진 여러 단말에 dp 단위로 뷰의 크기를 맞추다 보면 이미지 크기가 자동 조절되면서 왜곡되는 현상 발생 -> 나인패치 이미지로 해결
	- 이미지가 늘어나면서 잘못되는 부분과 그렇지 않은 부분을 구분해서 처리를 할 수 있는 기능
<img src="https://user-images.githubusercontent.com/32586985/88612848-12c21500-d0c7-11ea-8cb1-724d0d285889.PNG">

- 나인패치 이미지는 이미지 파일 이름 자체가 png라는 확장자 앞에 .9라고 붙어있음, 실제로 안드로이드는 .9를 인식하는게 아니라 button_image_02라고 해서 지정을 함
- 가장자리에 한 픽셀씩을 무시함, 가장자리 한 픽셀 씩은 이미지가 왜곡되는 부분, 깨질 수 있는 부분과 그렇지 않은 부분을 구분하는데 사용이 됨 

- 예시의 3, 4번째 이미지를 비교해 보면 4번째 이미지는 깨지지 않는 것을 볼 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88613595-caa3f200-d0c8-11ea-8e72-a3e37462c062.PNG">

- 이미지의 까만 부분, 가장자리 하나는 해석을 안 함, 일종의 정보 픽셀이 됨, 까만색으로 된 것은 이 부분이 늘어나도 됩니다라고 한 것
- 까만색이 아닌 부분, 투명하거나 하얀색인 부분, 늘어나면 안된다고 말하는 것임 
- 위의 예시중 네 번재는 가장자리 부분은 늘어나지 않았음, 그래서 거의 깨지는 게 없는 것처럼 보임
<img src="https://user-images.githubusercontent.com/32586985/88613662-f030fb80-d0c8-11ea-8565-eada48d37125.PNG">

- 생각해보기
- 나인패치 이미지를 그래픽 프로그램을 이용해 직접 만들어볼 수 있을까요?
	- 어차피 나인패치 이미지 자체도 png 파일이므로 이용하는데 있어서 파일을 만들어 저장을 해서 직접 사용할 수 있을 것이다

### 비트맵 버튼 만들기
- 버튼이라는 것을 상속을 해보겠다는 것, 기존의 버튼 기능을 그대로 가져와서 쓰면서 동시에 필요하면 수정을 하거나 기능을 다르게 바꿔보겠다고 하는 형태가 되는 것
- 비트맵 버튼을 직접 만들어 normal일 경우와 clicked일 경우의 이미지를 표시
	- 나인패치 이미지를 적용하는 대표적인 경우가 바로 버튼인데 이렇게 배경 부분을 이미지로 지정하여 만든 버튼은 아무리 눌러도 이미지의 변화가 없어 사용자가 버튼을 눌렀는지 안 눌렀는지 알 수 없다는 단점이 있음
	- 비트맵 이미지를 이용해 버튼의 상태를 표시하려면 버튼이 눌렀을 때와 떼어졌을 때를 이벤트로 구분하여 처리함
- onDraw 메소드는 버튼의 모양을 그래픽으로 내부에서 그리는데 그리는 과정에서 추가로 무엇을 더 그리고 싶으면 그릴 수 있도록 콜백 함수를 만들어 놓은 것임, 시스템이 그려줄 때 뭔가 수정하고 싶다면 onDraw라는 메소드를 재정의해서 놓으면 알아서 호출함 onDraw라고 하는 거에다가 그래픽 그리기 위한 메소드를 넣어 놓으면 버튼 위에 그려지는 거를 직접 그릴 수도 있음
- onMeasure 메소드는 크기를 결정을 함, 버튼, 뷰가 화면에 보이려면 일정 영역을 할당 받아야 하는데 이 영역을 어떻게 할당받고 어떻게 그려질지를 결정하는 메소드, 크기 결정을 위해 이 메소드를 호출하고 크기를 정의함
<img src="https://user-images.githubusercontent.com/32586985/88614094-f70c3e00-d0c9-11ea-98ac-0382bb3c2780.PNG">

- 뷰 위에 그래픽을 그리는 과정
	- 뷰에 그래픽이 그려질 때 onDraw() 메소드 호출됨
	- 다시 그리기는 invalidate() 메소드 사용
<img src="https://user-images.githubusercontent.com/32586985/88614385-9e897080-d0ca-11ea-86f6-0c25d87486da.PNG">

- 비트맵 버튼 만들기 예제 
- 터치같은 이벤트 처리를 해줘야 뭔가를 만들 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88614456-c082f300-d0ca-11ea-9598-0c3fa10edce1.PNG">

- 현재 버전이 다르므로 참조할 때 androidx.appcompat.widget.AppCompatButton으로 받아야함
- 텍스트가 dp 단위인데 다른 것도 dp 단위로 설정하기 위해서는 res -> values 에서 dimens라고 하는 xml 파일을 만들어서 그 안에 넣으면 그 안에서 dp 단위로 설정할 수 있음, 그 정보를 소스코드로 읽어와서 픽셀로 바뀐 정보로 설정할 수 있음, 해당 dimens.xml을 통해서 크기를 조정할 수 있음 
<img src="https://user-images.githubusercontent.com/32586985/88615436-e4dfcf00-d0cc-11ea-8a8b-04bb6cdc5f87.PNG">
<img src="https://user-images.githubusercontent.com/32586985/88615443-e7dabf80-d0cc-11ea-8c63-88661896e922.PNG">

- 정의만 한 것뿐 해당 파일을 xml 레이아웃 파일에 Java 소스파일에 추가할 수 있음
<img src="https://user-images.githubusercontent.com/32586985/88616040-14dba200-d0ce-11ea-80c9-f14a77fedc9a.PNG">

- 버튼안에 기능을 넣어버린 것, 버튼을 상속해서 BitmapButton을 만들고 그 안에다가 기능을 집어넣은것
<img src="https://user-images.githubusercontent.com/32586985/88616263-a9460480-d0ce-11ea-912c-f3bacdddf170.PNG">

- 생각해보기
- 버튼의 배경 이미지가 바뀌는 기능을 좀 더 간단한 방법으로 만들 수는 없을까요?
	- 버튼을 상속하지 않고 처음 생긴 코드에서 메소드를 그대로 써서 쓰는 방식으로 사용하면 간편할 것이다. 그 외에 상태 드로어블을 사용하여서 위보다는 간단하게 배경 이미지만을 바꾸는 역할을 이용할 수 있다 다만 위의 예시는 다양한 이벤트에 따라서 바뀌는걸 감안했기 때문에 코드를 만들어서 쓴 것이다.
- 만약 setBackground 함수만 호출하고 Invalidate 메소드를 호출하지 않으면 어떤 일이 생길까요?
	- 다시 그리지 않으므로 어떤 이벤트가 발생하더라도 초기에 설정한 setBackground 값으로만 나타나게 될 것임